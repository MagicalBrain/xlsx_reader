CMAKE_MINIMUM_REQUIRED(VERSION 3.1)

PROJECT(XLSX_READER)
SET(JSON_INCLUDE_DIR "D:\\Github\\json\\include")
SET(XLSX_READER_SRC_DIR ${CMAKE_SOURCE_DIR}/source)
SET(XLSX_READER_THIRD_PARTY_DIR ${CMAKE_SOURCE_DIR}/third_party)
SET(XLSX_READER_HEADER_DIR ${CMAKE_SOURCE_DIR}/include)
SET(XLSX_READER_TEST_DIR ${CMAKE_SOURCE_DIR}/test)

FILE(GLOB_RECURSE XLSX_READER_SRC_LIST ${XLSX_READER_SRC_DIR}/*.cpp)
FILE(GLOB_RECURSE XLSX_READER_TEST_LIST ${XLSX_READER_TEST_DIR}/*.cpp)
FILE(GLOB_RECURSE XLSX_READER_THIRD_SRC_LIST ${XLSX_READER_THIRD_PARTY_DIR}/*.cpp ${XLSX_READER_THIRD_PARTY_DIR}/*.c)

INCLUDE_DIRECTORIES(${XLSX_READER_HEADER_DIR})
INCLUDE_DIRECTORIES(${XLSX_READER_THIRD_PARTY_DIR})
INCLUDE_DIRECTORIES(${JSON_INCLUDE_DIR})
# https://cmake.org/cmake/help/latest/prop_tgt/CXX_STANDARD.html
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

# expected behaviour
#set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /std:c++lastest")
# test
ADD_EXECUTABLE("xlsx_test" ${XLSX_READER_TEST_LIST} ${XLSX_READER_SRC_LIST} ${XLSX_READER_THIRD_SRC_LIST})

